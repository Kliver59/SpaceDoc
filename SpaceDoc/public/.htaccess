# Activer la réécriture d'URL
RewriteEngine On

# Rediriger les URL sans extension vers leur fichier PHP
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]+)$ $1.php [L,QSA]

# Forcer l'utilisation de HTTPS si nécessaire (commenté par défaut)
# RewriteCond %{HTTPS} off
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Empêcher l'accès à des fichiers sensibles (par exemple .env, .gitignore)
<FilesMatch "\.(env|git|gitignore|htaccess|htpasswd)$">
  Order Deny,Allow
  Deny from all
</FilesMatch>

# Protection contre le listing des répertoires
Options -Indexes

# Rediriger les erreurs 404 vers une page personnalisée
ErrorDocument 404 /public/404.php